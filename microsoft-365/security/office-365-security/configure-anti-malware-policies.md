---
title: 맬웨어 방지 정책 구성
f1.keywords:
- NOCSH
ms.author: chrisda
author: chrisda
manager: dansimp
ms.date: ''
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.assetid: b0cfc21f-e3c6-41b6-8670-feb2b2e252e5
ms.collection:
- M365-security-compliance
description: 관리자는 기본 맬웨어 방지 정책을 보고, 편집 하 고, 구성 (삭제 하지 않음)을 포함 하 여 Office 365에서 맬웨어 방지 정책을 구성 하는 방법을 확인할 수 있습니다.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 1bdf9254b2fdd0f80a73d702a433237fc2e9cf51
ms.sourcegitcommit: a45cf8b887587a1810caf9afa354638e68ec5243
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/05/2020
ms.locfileid: "44036324"
---
# <a name="configure-anti-malware-policies-in-office-365"></a>Office 365에서 맬웨어 방지 정책 구성

Exchange online 사서함이 없는 고객 또는 독립 실행형 EOP (Exchange Online Protection) 고객의 경우 전자 메일 메시지가 EOP에 의해 맬웨어 로부터 자동으로 보호 됩니다. EOP는 맬웨어 방지 설정에 맬웨어 방지 정책을 사용 합니다. 자세한 내용은 [맬웨어 방지 보호](anti-malware-protection.md)를 참조 하세요.

관리자는 조직의 요구를 충족 하기 위해 기본 맬웨어 방지 정책을 보고 편집 하 고 구성할 수 있습니다 (삭제 하지는 않음). 세분성을 높이기 위해 조직의 특정 사용자, 그룹 또는 도메인에 적용 되는 사용자 지정 맬웨어 방지 정책을 만들 수도 있습니다. 사용자 지정 정책은 항상 기본 정책보다 우선하지만, 사용자 지정 정책의 우선순위(실행 순서)를 변경할 수 있습니다.

보안 & 준수 센터 또는 PowerShell (고객을 위한 Exchange Online PowerShell)에서 맬웨어 방지 정책을 구성할 수 있습니다. 독립 실행형 EOP 고객을 위한 Exchange Online Protection PowerShell

## <a name="what-do-you-need-to-know-before-you-begin"></a>시작하기 전에 알아야 할 내용은 무엇인가요?

- <https://protection.office.com/>에서 보안 및 규정 준수 센터를 엽니다. **맬웨어 방지** 페이지로 바로 이동 하려면을 사용 <https://protection.office.com/antimalware>합니다.

- Exchange Online PowerShell에 연결하려면 [Exchange Online PowerShell에 연결](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell)을 참조하세요. Exchange Online Protection PowerShell에 연결 하려면 [Exchange Online Protection powershell에 연결](https://docs.microsoft.com/powershell/exchange/exchange-eop/connect-to-exchange-online-protection-powershell)을 참조 하세요.

- 이 절차를 수행하려면 먼저 사용 권한을 할당받아야 합니다. 맬웨어 방지 정책을 추가, 수정 및 삭제 하려면 **조직 관리** 또는 **보안 관리자** 역할 그룹의 구성원 이어야 합니다. 맬웨어 방지 정책에 대 한 읽기 전용 액세스를 위해서는 **보안 독자** 역할 그룹의 구성원 이어야 합니다. 보안 및 규정 준수 센터의 역할 그룹에 대한 자세한 내용은 [보안 및 규정 준수 센터의 사용 권한](permissions-in-the-security-and-compliance-center.md)을 참조하세요.

- 맬웨어 방지 정책에 대 한 권장 설정에 대 한 자세한 내용은 [EOP 맬웨어 방지 정책 설정을](recommended-settings-for-eop-and-office365-atp.md#eop-anti-malware-policy-settings)참조 하십시오.

## <a name="use-the-security--compliance-center-to-create-anti-malware-policies"></a>보안 & 준수 센터를 사용 하 여 맬웨어 방지 정책 만들기

보안 & 준수 센터에서 사용자 지정 맬웨어 방지 정책을 만들면 맬웨어 필터 규칙과 연결 된 맬웨어 필터 정책이 둘 다를 사용 하 여 동시에 만들어집니다.

1. 보안 & 준수 센터에서 **위협 관리** \> **정책** \> **맬웨어 방지**로 이동한 다음 **새** ![추가 아이콘](../../media/ITPro-EAC-AddIcon.png)를 클릭 합니다.

2. **새 맬웨어 방지 정책** 페이지가 열리면 다음 설정을 구성 합니다.

   - **이름**: 정책을 설명하는 고유한 이름을 입력합니다.

   - **설명**: 정책에 대한 선택적 설명을 입력합니다.

   - **맬웨어 검색 응답**: **받는 사람에 게 메시지가 격리 된 경우 알림을 알릴지 여부** 에 대해 다음 값 중 하나를 선택 합니다. 설정:

     - **No**: 메시지를 받는 사람에 게 알리지 않고 격리 합니다. 이 값은 기본값입니다.

     - **예, 기본 알림 텍스트를 사용**합니다. 메시지가 격리 됩니다. 메시지의 복사본은 받는 사람에 게 배달 되지만, 검색 된 항목만 포함 된 *모든* 첨부 파일은 기본 텍스트가 들어 있는 **맬웨어 경고 텍스트인** 단일 텍스트 파일로 대체 됩니다. 기본 텍스트는 [맬웨어 방지 정책을](anti-malware-protection.md#anti-malware-policies)참조 하세요.

     - **예, 사용자 지정 알림 텍스트를 사용**합니다. 메시지가 격리 됩니다. 메시지 복사본은 받는 사람에 게 배달 되지만, 검색 된 **항목만 포함 된** *모든* 첨부 파일은 **사용자 지정 경고 텍스트** 상자에 지정한 단일 텍스트 파일로 대체 됩니다.

   - **일반 첨부 파일 형식 필터**: **컴퓨터에 손상을 줄 수 있는 첨부 파일 형식을 차단**하려면 이러한 값 중 하나를 선택 합니다.

     - **해제**

     - **설정**: 지정 된 첨부 파일이 있는 메시지는 맬웨어 감지로 처리 되며 자동으로 격리 됩니다. **추가** 및 **제거** 단추를 클릭 하 여 목록 bu를 수정할 수 있습니다.

   - **맬웨어 0 시간 자동 삭제**: 이미 배달 된 맬웨어 ZAP 설정별 메시지입니다. 자세한 내용은 [Office 365에서 스팸 및 맬웨어에 대 한 보호 (0 시간 자동 제거)](zero-hour-auto-purge.md)를 참조 하세요. 다음 값 중 하나를 선택 합니다.

     - **해제**

     - **설정 (권장)**

   - **알림**:이 섹션의 설정은 메시지에서 맬웨어가 검색 될 때 보낸 사람 및 관리 알림을 제어 합니다.

     - **보낸 사람 알림**: 다음 옵션 중 하나 또는 둘 다를 선택 합니다.

       - **내부 보낸 사람에 게 알림**: 내부 보낸 사람이 조직 내부에 있습니다.

       - **외부의 보낸 사람에 게 알림**: 외부 보낸 사람이 조직 외부에 있습니다.

     - **관리자 알림**: 다음 옵션 중 하나 또는 둘 다를 선택 합니다.

       - **관리자에 게 내부 보낸 사람에 게 배달 되지 않은 메시지 알리기**:이 옵션을 선택 하는 경우 **관리자 전자 메일 주소** 상자에 알림 전자 메일 주소를 입력 합니다.

       - **관리자에 게 외부 보낸 사람에 게 배달 되지 않은 메시지 알리기**:이 옵션을 선택 하는 경우 **관리자 전자 메일 주소** 상자에 알림 전자 메일 주소를 입력 합니다.

     - **알림 사용자 지정**: 이러한 설정은 보낸 사람이 나 관리자에 사용 되는 기본 알림 텍스트를 대체 합니다. 기본값에 대 한 자세한 내용은 [맬웨어 방지 정책을](anti-malware-protection.md#anti-malware-policies)참조 하세요.

       - **사용자 지정 된 알림 텍스트 사용**:이 옵션을 선택 하는 경우 보낸 사람 **이름** 및 **시작 주소** 상자를 사용 하 여 사용자 지정 된 알림 메시지에 사용 되는 보내는 사람의 이름과 전자 메일 주소를 지정 해야 합니다.

       - **내부 보낸 사람의 메시지**: 보낸 사람이 나 관리자에 게 내부 보낸 사람 으로부터 배달할 수 없는 메시지를 알려야 하는 경우 **제목** 및 **메시지** 상자를 사용 하 여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정 해야 합니다.

       - **외부 보낸 사람이 보낸 메시지**: 보낸 사람이 나 관리자에 게 외부 보낸 사람 으로부터 배달할 수 없는 메시지를 알리도록 선택한 경우 **제목** 및 **메시지** 상자를 사용 하 여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정 해야 합니다.

   - **적용**대상:이 섹션의 설정은 정책을 적용 하는 내부 받는 사람을 식별 합니다.

     - **If**: **하나 선택** 드롭다운을 클릭 하 고 규칙에 대 한 조건을 선택 합니다.

       - **받는 사람**: 조직의 사서함, 메일 사용자 또는 메일 연락처를 하나 이상 지정 합니다. **구성원 선택** 대화 상자가 나타나면 목록에서 받는 사람을 한 명 이상 선택 하 고 **추가\>** 를 클릭 합니다. **이름 확인** 상자에 여러 전자 메일 주소에 와일드 카드를 사용할 수 있습니다 (예: \*@fabrikam .com). 작업을 마친 후 **확인**을 클릭합니다.

       - **받는 사람 도메인은**: Office 365에서 구성된 허용 도메인 중 하나 이상에서 받는 사람을 지정합니다. 나타나는 대화 상자에서 하나 이상의 도메인을 선택 하 고 **추가\>** 를 클릭 합니다. 작업을 마친 후 **확인**을 클릭합니다.

       - **받는 사람이 다음 구성원 인**경우: 조직에서 그룹을 하나 이상 지정 합니다. 표시 되는 **구성원 선택** 대화 상자의 목록에서 그룹을 하나 이상 선택 하 고 **추가\>** 를 클릭 합니다. 작업을 마친 후 **확인**을 클릭합니다.

     조건을 한 번만 사용할 수 있지만 조건에 대해 여러 값을 지정할 수 있습니다. 동일한 조건 사용 또는 논리의 여러 값 (예: _ \<recipient1\> _ 또는 _ \<recipient2\>_) 서로 다른 조건 사용 및 논리 (예: _ \<recipient1\> _ , _ \<그룹 1\>의 구성원_) 조건을 더 추가 하려면 **조건 추가** 를 클릭 하 고 나머지 옵션에서 선택 합니다.

     - 다음의 **경우 제외**: 규칙에 대 한 예외를 추가 하려면 **예외 추가**를 클릭 하 고 **한 번 선택** 드롭다운을 클릭 한 다음 예외를 구성 합니다. 설정 및 동작은 조건과 정확히 같습니다.

3. 작업을 마쳤으면 **저장**을 클릭합니다.

## <a name="use-the-security--compliance-center-to-view-anti-malware-policies"></a>보안 & 준수 센터를 사용 하 여 맬웨어 방지 정책 보기

1. 보안 & 준수 센터에서 **위협 관리** \> **정책** \> **맬웨어 방지**화면으로 이동 합니다.

2. 정책을 선택 하면 정책에 대 한 정보가 세부 정보 창에 표시 됩니다. 정책에 대 한 자세한 내용을 보려면 편집](../../media/ITPro-EAC-EditIcon.png)아이콘 **편집** ![을 클릭 합니다.

   - **Enabled** 속성 값, **Priority** 속성 값 및 **적용 대상** 탭의 설정은 맬웨어 필터 규칙에 있습니다.

   - **일반** 및 **설정** 탭의 설정은 맬웨어 필터 정책에 있습니다.

## <a name="use-the-security--compliance-center-to-modify-anti-malware-policies"></a>보안 & 준수 센터를 사용 하 여 맬웨어 방지 정책 수정

1. 보안 & 준수 센터에서 **위협 관리** \> **정책** \> **맬웨어 방지**화면으로 이동 합니다.

2. 정책을 선택 하 고 편집 아이콘](../../media/ITPro-EAC-EditIcon.png) **편집** ![을 클릭 합니다. 설정에 대 한 자세한 내용은이 항목의 [보안 & 준수 센터를 사용 하 여 맬웨어 방지 정책 만들기](#use-the-security--compliance-center-to-create-anti-malware-policies) 섹션을 참조 하십시오.

   **참고**:

   - 한 페이지에 있는 모든 것 대신 설정이 **일반**, **설정**중 하나로 나뉘어 탭 **에 적용** 됩니다. **적용 대상** 탭은 기본 정책 (모든 사용자에 게 자동으로 적용 됨)에서는 사용할 수 없습니다.

   - 기본 정책의 이름을 바꿀 수는 없습니다.

## <a name="use-the-security--compliance-center-to-enable-or-disable-anti-malware-policies"></a>보안 & 준수 센터를 사용 하 여 맬웨어 방지 정책을 사용 하거나 사용 하지 않도록 설정

1. 보안 & 준수 센터에서 **위협 관리** \> **정책** \> **맬웨어 방지**화면으로 이동 합니다.

2. 목록에서 정책을 선택 하 고 다음 설정 중 하나를 구성 합니다.

   - **정책을 사용 하지 않도록**설정: **사용** 열에서 확인란의 선택을 취소 합니다. 기본적으로 맬웨어 방지 정책은 보안 & 준수 센터에서 만들 때 사용 하도록 설정 됩니다.

   - **정책 사용**: **사용** 열에서 확인란을 선택 합니다.

## <a name="use-the-security--compliance-center-to-set-the-priority-of-custom-anti-malware-policies"></a>보안 & 준수 센터를 사용 하 여 사용자 지정 맬웨어 방지 정책의 우선 순위 설정

기본적으로 맬웨어 방지 정책에는 만든 순서를 기준으로 하는 우선 순위가 지정 됩니다 (최신 정책은 이전 정책 보다 낮은 우선 순위). 우선 순위 번호가 낮을수록 정책의 우선 순위가 높기 때문에 정책이 우선 순위 대로 처리 됩니다 (우선 순위가 더 높은 정책이 낮은 우선 순위 정책 보다 먼저 처리 됨). 두 정책의 우선순위가 같을 수 없습니다.

 **참고**:

- 보안 & 준수 센터에서는 맬웨어 방지 정책의 우선 순위를 만든 후에만 변경할 수 있습니다. PowerShell에서 맬웨어 필터 규칙을 만들 때 기본 우선 순위를 재정의할 수 있습니다 (기존 규칙의 우선 순위에 영향을 줄 수 있음).

- 보안 & 준수 센터에서 맬웨어 방지 정책은 표시 되는 순서 대로 처리 됩니다 (첫 번째 정책의 **우선 순위** 값이 0 인 경우). 기본 맬웨어 방지 정책의 기본값은 우선 순위 값이 **가장 낮고**변경할 수 없습니다.

정책의 우선순위를 변경하려면 목록에서 정책을 위나 아래로 이동합니다. 보안 및 준수 센터에서 **우선순위** 번호를 직접 수정할 수는 없습니다.

1. 보안 & 준수 센터에서 **위협 관리** \> **정책** \> **맬웨어 방지**화면으로 이동 합니다.

2. 정책을 선택 하 고 **위로** ![이동 화살표 아이콘](../../media/ITPro-EAC-UpArrowIcon.png) 또는 **아래로** ![이동 화살표 아이콘](../../media/ITPro-EAC-DownArrowIcon.png) 을 클릭 하 여 규칙을 목록에서 위나 아래로 이동 합니다.

## <a name="use-the-security--compliance-center-to-remove-anti-malware-policies"></a>보안 & 준수 센터를 사용 하 여 맬웨어 방지 정책 제거

보안 & 준수 센터를 사용 하 여 맬웨어 방지 정책을 제거 하는 경우 맬웨어 필터 규칙 및 해당 맬웨어 필터 정책이 모두 삭제 됩니다.

1. 보안 & 준수 센터에서 **위협 관리** \> **정책** \> **맬웨어 방지**화면으로 이동 합니다.

2. 목록에서 제거 하려는 맬웨어 방지 정책을 선택 하 고 삭제 아이콘](../../media/ITPro-EAC-DeleteIcon.png) **삭제** ![를 클릭 합니다.

## <a name="use-exchange-online-powershell-or-exchange-online-protection-powershell-to-configure-anti-malware-policies"></a>Exchange Online PowerShell 또는 Exchange Online Protection PowerShell을 사용 하 여 맬웨어 방지 정책을 구성 합니다.

### <a name="use-powershell-to-create-anti-malware-policies"></a>PowerShell을 사용 하 여 맬웨어 방지 정책 만들기

PowerShell에서 맬웨어 방지 정책을 만드는 과정은 두 단계로 진행 됩니다.

1. 맬웨어 필터 정책을 만듭니다.

2. 규칙이 적용 되는 맬웨어 필터 정책을 지정 하는 맬웨어 필터 규칙을 만듭니다.

 **참고**:

- 새 맬웨어 필터 규칙을 만들고 연결 되지 않은 기존 맬웨어 필터 정책을 할당할 수 있습니다. 맬웨어 필터 규칙을 두 개 이상의 맬웨어 필터 정책에 연결할 수 없습니다.

- 정책을 만든 후에 야 보안 & 준수 센터에서 사용할 수 없는 PowerShell의 새 맬웨어 방지 정책에 대해 구성할 수 있는 두 가지 설정이 있습니다.

  - **Disable-malwarefilterrule** cmdlet에서_사용 하도록 설정_ `$false` 된 새 정책을 사용 하지 않도록 설정 합니다.

  - **Disable-malwarefilterrule** cmdlet에 대해 만드는 동안 정책의 우선 순위 (_우선 순위_ _ \<번호\>_)를 설정 합니다.

- PowerShell에서 만든 새 맬웨어 필터 정책이 보안 & 준수 센터에 표시 되지 않으면 맬웨어 필터 규칙에 정책을 할당 해야 합니다.

#### <a name="step-1-use-powershell-to-create-a-malware-filter-policy"></a>1 단계: PowerShell을 사용 하 여 맬웨어 필터 정책 만들기

**참고**: EOP에서 _동작_ `DeleteMessage`매개 변수 값을 `DeleteAttachmentAndUseDefaultAlert`, 메시지를 `DeleteAttachmentAndUseCustomAlert` 삭제 하지 않습니다. 대신 메시지가 격리 됩니다. 격리 된 메시지를 검색 하는 방법에 대 한 자세한 내용은 [Office 365에서 격리 된 메시지 및 파일을 관리자로 관리](manage-quarantined-messages-and-files.md)를 참조 하세요.

맬웨어 필터 정책을 만들려면 다음 구문을 사용 합니다.

```PowerShell
New-MalwareFilterPolicy -Name "<PolicyName>" [-Action <DeleteMessage | DeleteAttachmentAndUseDefaultAlert | DeleteAttachmentAndUseCustomAlert>] [-AdminDisplayName "<OptionalComments>"] [-CustomNotifications <$true | $false>] [<Inbound notification options>] [<Outbound notification options>]
```

이 예에서는 다음 설정을 사용 하 여 Contoso Malware Filter Policy 라는 새 맬웨어 필터 정책을 만듭니다.

- 받는 사람에 게 알리지 않고 맬웨어가 포함 된 메시지 격리 ( _Action_ 매개 변수를 사용 하지 않으며 기본값은 is `DeleteMessage`)

- 메시지에서 맬웨어가 감지 될 때, 즉 _EnableExternalSenderNotifications_ 또는 _EnableInternalSenderNotifications_ 매개 변수를 사용 하지 않으며 둘 다 `$false`에 대 한 기본값을 갖는 경우 메시지 보낸 사람에 게 알리지 않습니다.

- 내부 보낸 사람의 메시지에서 맬웨어가 탐지되는 경우 관리자인 admin@contoso.com에게 알립니다.

```PowerShell
New-MalwareFilterPolicy -Name "Contoso Malware Filter Policy" -EnableInternalSenderAdminNotifications $true -InternalSenderAdminAddress admin@contoso.com
```

구문과 매개 변수에 대 한 자세한 내용은 [get-malwarefilterpolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/new-malwarefilterpolicy)를 참조 하십시오.

#### <a name="step-2-use-powershell-to-create-a-malware-filter-rule"></a>2 단계: PowerShell을 사용 하 여 맬웨어 필터 규칙 만들기

맬웨어 필터 규칙을 만들려면 다음 구문을 사용 합니다.

```PowerShell
New-MalwareFilterRule -Name "<RuleName>" -MalwareFilterPolicy "<PolicyName>" <Recipient filters> [<Recipient filter exceptions>] [-Comments "<OptionalComments>"]
```

이 예에서는 다음 설정을 사용 하 여 Contoso Recipients 라는 새 맬웨어 필터 규칙을 만듭니다.

- Contoso 맬웨어 필터 정책 이라는 맬웨어 필터 정책이 규칙과 연결 됩니다.

- 이 규칙은 contoso.com 도메인의 받는 사람에 게 적용 됩니다.

```PowerShell
New-MalwareFilterRule -Name "Contoso Recipients" -MalwareFilterPolicy "Contoso Malware Filter Policy" -RecipientDomainIs contoso.com
```

구문과 매개 변수에 대 한 자세한 내용은 [disable-malwarefilterrule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/new-malwarefilterrule)를 참조 하십시오.

### <a name="use-powershell-to-view-malware-filter-policies"></a>PowerShell을 사용 하 여 맬웨어 필터 정책 보기

모든 맬웨어 필터 정책의 요약 목록을 반환 하려면 다음 명령을 실행 합니다.

```PowerShell
Get-MalwareFilterPolicy
```

특정 맬웨어 필터 정책에 대 한 자세한 정보를 반환 하려면 다음 구문을 사용 합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "<PolicyName>" | Format-List [<Specific properties to view>]
```

이 예에서는 중역 이라는 맬웨어 필터 정책에 대 한 모든 속성 값을 반환 합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List
```

이 예제에서는 동일한 정책에 대해 지정 된 속성만 반환 합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List Action,AdminDisplayName,CustomNotifications,Enable*Notifications
```

구문과 매개 변수에 대 한 자세한 내용은 [get-malwarefilterpolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/get-malwarefilterpolicy)를 참조 하십시오.

### <a name="use-powershell-to-view-malware-filter-rules"></a>PowerShell을 사용 하 여 맬웨어 필터 규칙 보기

모든 맬웨어 필터 규칙의 요약 목록을 반환 하려면 다음 명령을 실행 합니다.

```PowerShell
Get-MalwareFilterRule
```

활성화된 또는 비활성화된 규칙을 기준으로 목록을 필터링하려면 다음 명령을 실행합니다.

```PowerShell
Get-HostedContentFilterRule -State Disabled
```

```PowerShell
Get-HostedContentFilterRule -State Enabled
```

특정 맬웨어 필터 규칙에 대 한 자세한 정보를 반환 하려면 다음 구문을 사용 합니다.

```PowerShell
Get-MalwareFilterRule -Identity "<RuleName>" | Format-List [<Specific properties to view>]
```

이 예에서는 중역 이라는 맬웨어 필터 규칙에 대 한 모든 속성 값을 반환 합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List
```

이 예제에서는 동일한 규칙에 대해 지정 된 속성만 반환 합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List Name,Priority,State,MalwareFilterPolicy,*Is,*SentTo,*MemberOf
```

구문과 매개 변수에 대 한 자세한 내용은 [disable-malwarefilterrule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/get-malwarefilterrule)를 참조 하십시오.

### <a name="use-powershell-to-modify-malware-filter-policies"></a>PowerShell을 사용 하 여 맬웨어 필터 정책 수정

다음 항목을 제외 하 고는이 항목 앞부분의 [1 단계: powershell을 사용 하 여 맬웨어 필터 정책 만들기](#step-1-use-powershell-to-create-a-malware-filter-policy) 섹션에 설명 된 대로, powershell에서 맬웨어 필터 정책을 수정 하는 경우에도 동일한 설정을 사용할 수 있습니다.

- 지정 된 정책을 기본 정책으로 설정 하는 _makedefault_ 스위치 (모든 사용자에 게 적용 되며 수정할 수 없는 **가장 낮은** 우선 순위)는 PowerShell에서 맬웨어 필터 정책을 수정 하는 경우에만 사용할 수 있습니다.

- 맬웨어 필터 정책의 이름을 바꿀 수는 없습니다 ( **get-malwarefilterpolicy** Cmdlet은 _Name_ 매개 변수를 사용 하지 않음). 보안 & 준수 센터에서 맬웨어 방지 정책 이름을 바꾸면 맬웨어 필터 _규칙만_변경 됩니다.

맬웨어 필터 정책을 수정 하려면 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterPolicy -Identity "<PolicyName>" <Settings>
```

구문 및 매개 변수에 대 한 자세한 내용은 [get-malwarefilterpolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/set-malwarefilterpolicy)를 참조 하십시오.

### <a name="use-powershell-to-modify-malware-filter-rules"></a>PowerShell을 사용 하 여 맬웨어 필터 규칙 수정

PowerShell에서 맬웨어 필터 규칙을 수정할 때 사용할 수 없는 유일한 설정은 사용 하지 않도록 설정 된 규칙을 만들 수 있는 _Enabled_ 매개 변수입니다. 기존 맬웨어 필터 규칙을 사용 하거나 사용 하지 않도록 설정 하려면 다음 섹션을 참조 하십시오.

그렇지 않으면 PowerShell에서 맬웨어 필터 규칙을 수정할 때 추가 설정을 사용할 수 없습니다. 이 항목 앞부분에 있는 [2 단계: PowerShell을 사용 하 여 맬웨어 필터 규칙 만들기](#step-2-use-powershell-to-create-a-malware-filter-rule) 섹션에 설명 된 대로 규칙을 만들 때도 같은 설정을 사용할 수 있습니다.

맬웨어 필터 규칙을 수정 하려면 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" <Settings>
```

구문 및 매개 변수에 대 한 자세한 내용은 [disable-malwarefilterrule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/set-malwarefilterrule)를 참조 하십시오.

### <a name="use-powershell-to-enable-or-disable-malware-filter-rules"></a>PowerShell을 사용 하 여 맬웨어 필터 규칙을 사용 하거나 사용 하지 않도록 설정

PowerShell에서 맬웨어 필터 규칙을 사용 하거나 사용 하지 않도록 설정 하면 전체 맬웨어 방지 정책 (맬웨어 필터 규칙 및 할당 된 맬웨어 필터 정책)을 사용 하거나 사용 하지 않도록 설정 됩니다. 기본 맬웨어 방지 정책을 사용 하거나 사용 하지 않도록 설정할 수 없습니다 (항상 항상 모든 받는 사람에 게 적용 됨).

PowerShell에서 맬웨어 필터 규칙을 사용 하거나 사용할 수 없도록 설정 하려면 다음 구문을 사용 합니다.

```PowerShell
<Enable-MalwareFilterRule | Disable-MalwareFilterRule> -Identity "<RuleName>"
```

이 예에서는 Marketing 부서 라는 맬웨어 필터 규칙을 사용 하지 않도록 설정 합니다.

```PowerShell
Disable-MalwareFilterRule -Identity "Marketing Department"
```

다음은 동일한 규칙을 사용하도록 설정하는 예제입니다.

```PowerShell
Enable-MalwareFilterRule -Identity "Marketing Department"
```

구문 및 매개 변수에 대 한 자세한 내용은 [Enable-disable-malwarefilterrule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/enable-malwarefilterrule) 및 [Disable-disable-malwarefilterrule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/disable-malwarefilterrule)을 참조 하십시오.

### <a name="use-powershell-to-set-the-priority-of-malware-filter-rules"></a>PowerShell을 사용 하 여 맬웨어 필터 규칙의 우선 순위 설정

규칙에 설정 가능한 가장 높은 우선 순위 값은 0입니다. 설정할 수 있는 가장 낮은 값은 규칙 수에 따라 달라집니다. 예를 들어 규칙이 5개 있는 경우, 우선순위 값 0~4를 사용할 수 있습니다. 기존 규칙의 우선순위를 변경하면 다른 규칙에 계단식 효과를 줄 수 있습니다. 예를 들어 사용자 지정 규칙 5개(우선순위: 0~4)가 있고 규칙의 우선순위를 2로 변경하면, 우선순위 2인 기존 규칙이 우선순위 3으로 변경되고, 우선순위 3인 규칙이 우선순위 4로 변경됩니다.

PowerShell에서 맬웨어 필터 규칙의 우선 순위를 설정 하려면 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" -Priority <Number>
```

다음은 Marketing Department라는 규칙의 우선순위를 2로 설정하는 예제입니다. 우선순위가 2 이하인 모든 기존 규칙은 1씩 감소합니다(우선순위 번호는 1씩 증가함).

```PowerShell
Set-MalwareFilterRule -Identity "Marketing Department" -Priority 2
```

**참고:**

- 새 규칙을 만들 때 우선 순위를 설정 하려면 대신 **disable-malwarefilterrule** Cmdlet에서 _priority_ 매개 변수를 사용 하십시오.

- 기본 맬웨어 필터 정책에는 해당 하는 맬웨어 필터 규칙이 없으며 항상 해당 하는 우선 순위 값이 **가장 낮습니다**.

### <a name="use-powershell-to-remove-malware-filter-policies"></a>PowerShell을 사용 하 여 맬웨어 필터 정책 제거

PowerShell을 사용 하 여 맬웨어 필터 정책을 제거 하면 해당 하는 맬웨어 필터 규칙이 제거 되지 않습니다.

PowerShell에서 맬웨어 필터 정책을 제거 하려면 다음 구문을 사용 합니다.

```PowerShell
Remove-MalwareFilterPolicy -Identity "<PolicyName>"
```

이 예에서는 Marketing 부서 라는 맬웨어 필터 정책을 제거 합니다.

```PowerShell
Remove-MalwareFilterPolicy -Identity "Marketing Department"
```

구문과 매개 변수에 대 한 자세한 내용은 [get-malwarefilterpolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/remove-malwarefilterpolicy)를 참조 하십시오.

### <a name="use-powershell-to-remove-malware-filter-rules"></a>PowerShell을 사용 하 여 맬웨어 필터 규칙 제거

PowerShell을 사용 하 여 맬웨어 필터 규칙을 제거 하면 해당 맬웨어 필터 정책이 제거 되지 않습니다.

PowerShell에서 맬웨어 필터 규칙을 제거 하려면 다음 구문을 사용 합니다.

```PowerShell
Remove-MalwareFilterRule -Identity "<PolicyName>"
```

이 예에서는 Marketing 부서 라는 맬웨어 필터 규칙을 제거 합니다.

```PowerShell
Remove-MalwareFilterRule -Identity "Marketing Department"
```

구문과 매개 변수에 대 한 자세한 내용은 [disable-malwarefilterrule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/remove-malwarefilterrule)를 참조 하십시오.

## <a name="how-do-you-know-these-procedures-worked"></a>이 절차가 제대로 수행되었는지 어떻게 확인하나요?

### <a name="use-the-eicartxt-file-to-verify-your-anti-malware-policy-settings"></a>EICAR를 사용 합니다. TXT 파일을 사용 하 여 맬웨어 방지 정책 설정 확인

> [!IMPORTANT]
> EICAR TXT 파일은 바이러스가 아닙니다. EICAR (Computer Antivirus Research) 용 유럽 협회는 바이러스 백신 설치 및 설정을 안전 하 게 테스트 하기 위해이 파일을 개발 했습니다.

1. 메모장을 열고 다음 텍스트를 빈 파일에 붙여 넣습니다.

   ```Text
   X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*
   ```

   파일에서 이러한 문자만 텍스트 문자 인지를 확인해 보십시오. 파일 크기는 68 바이트 여야 합니다.

2. 파일을 EICAR로 저장 합니다. 라는

   데스크톱 바이러스 백신 프로그램에서 EICAR를 제외 해야 합니다. TXT를 검사 합니다 (그렇지 않으면 파일이 격리 됨).

3. EICAR가 포함 된 전자 메일 메시지를 보냅니다. TXT 파일을 첨부 하 여 파일을 자동으로 차단 하지 않는 전자 메일 클라이언트를 사용 하는 것입니다. 맬웨어 방지 정책 설정을 사용 하 여 테스트할 다음과 같은 시나리오를 결정 합니다.

   - 내부 사서함에서 내부 받는 사람에 게 전자 메일을 보낼 수 있습니다.

   - 내부 사서함에서 외부 받는 사람에 게 전자 메일을 보낼 수 있습니다.

   - 외부 사서함에서 내부 받는 사람에 게 전자 메일 보내기

4. 메시지가 격리 되었는지 확인 하 고 맬웨어 방지 정책 설정에 따라 받는 사람 및 보낸 사람 알림 결과를 확인 합니다. 예시:

   - 받는 사람에 게 알림이 표시 되지 않거나 받는 사람이 EICAR를 사용 하 여 원본 메시지를 받습니다. TXT 첨부 파일은 기본 또는 사용자 지정 텍스트가 포함 된 **맬웨어 경고 텍스트인** .txt로 대체 됩니다.

   - 내부 또는 외부의 보낸 사람에 게는 기본 또는 사용자 지정 알림 메시지로 알림이 제공 됩니다.

   - 지정한 관리자 전자 메일 주소에는 기본 또는 사용자 지정 알림 메시지를 사용 하 여 내부 또는 외부 메시지 보낸 사람에 대 한 알림이 제공 됩니다.

5. EICAR를 삭제 합니다. TXT 파일을 입력 하 여 다른 사용자가 불필요 한 경보를 받지 않도록 합니다.
