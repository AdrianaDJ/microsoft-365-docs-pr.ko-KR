---
title: 맬웨어 방지 정책 구성
f1.keywords:
- NOCSH
ms.author: chrisda
author: chrisda
manager: dansimp
ms.date: ''
audience: ITPro
ms.topic: how-to
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.assetid: b0cfc21f-e3c6-41b6-8670-feb2b2e252e5
ms.collection:
- M365-security-compliance
description: 관리자는 EOP(Exchange Online Protection)에서 맬웨어 방지 정책을 보고 만들고, 수정하고, 제거하는 방법을 볼 수 있습니다.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 032a63d61855c8698f441f14af9fd9bf75ead6d0
ms.sourcegitcommit: e12fa502bc216f6083ef5666f693a04bb727d4df
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/20/2020
ms.locfileid: "46825764"
---
# <a name="configure-anti-malware-policies-in-eop"></a>EOP에서 맬웨어 방지 정책 구성

Exchange Online 사서함이 있는 Microsoft 365 조직 또는 Exchange Online 사서함이 없는 독립 실행형 EOP(Exchange Online Protection) 조직에서는 전자 메일 메시지가 EOP에서 자동으로 맬웨어로부터 보호됩니다. EOP는 맬웨어 방지 정책을 사용하여 맬웨어 보호 설정을 설정합니다. 자세한 내용은 맬웨어 방지 [보호 기능을 참조하십시오.](anti-malware-protection.md)

관리자는 조직의 요구에 맞게 기본 맬웨어 방지 정책을 보고, 편집하고, 구성할 수 있습니다. 세분성을 상세히 위해 사용자 지정 맬웨어 방지 정책을 만들 수는 있습니다. 이러한 정책은 조직의 특정 사용자, 그룹 또는 도메인에 적용됩니다. 사용자 지정 정책은 항상 기본 정책보다 우선하지만, 사용자 지정 정책의 우선순위(실행 순서)를 변경할 수 있습니다.

보안 & 준수 센터 또는 PowerShell(Exchange Online 사서함이 있는 Microsoft 365 조직용 Exchange Online PowerShell, Exchange Online 사서함이 없는 조직의 경우 독립 실행형 EOP PowerShell)에서 맬웨어 방지 정책을 구성할 수 있습니다.

## <a name="what-do-you-need-to-know-before-you-begin"></a>시작하기 전에 알아야 할 내용은 무엇인가요?

- <https://protection.office.com/>에서 보안 및 준수 센터를 엽니다. 맬웨어 방지 페이지로 직접 **이동하려면을** <https://protection.office.com/antimalware> 사용합니다.

- Exchange Online PowerShell에 연결하려면 [Exchange Online PowerShell에 연결](https://docs.microsoft.com/powershell/exchange/connect-to-exchange-online-powershell)을 참조하세요. 독립 실행형 EOP PowerShell에 연결하려면 [Exchange Online Protection PowerShell에 연결](https://docs.microsoft.com/powershell/exchange/connect-to-exchange-online-protection-powershell)을 참조하세요.

- 이 항목의 절차를 수행하려면 먼저 사용 권한을 할당받아야 합니다.

  - 맬웨어 방지 정책을 추가, 수정 및 삭제하려면 다음 역할 그룹 중 하나의 구성원이어야 합니다.

    - [보안 및 준수 센터](permissions-in-the-security-and-compliance-center.md)의 **조직 관리** 또는 **보안 관리자**
    - [Exchange Online](https://docs.microsoft.com/Exchange/permissions-exo/permissions-exo#role-groups)의 **조직 관리** 및 **예방 조치 관리**

  - 맬웨어 방지 정책에 대한 읽기 전용 액세스를 위해다음 역할 그룹 중 하나의 구성원이어야 합니다.

    - [보안 및 준수 센터](permissions-in-the-security-and-compliance-center.md)의 **보안 읽기**
    - [Exchange Online](https://docs.microsoft.com/Exchange/permissions-exo/permissions-exo#role-groups)의 **보기 전용 조직 관리**

- 맬웨어 방지 정책에 대한 권장 설정은 EOP 맬웨어 [방지 정책 설정을 참조하십시오.](recommended-settings-for-eop-and-office365-atp.md#eop-anti-malware-policy-settings)

## <a name="use-the-security--compliance-center-to-create-anti-malware-policies"></a>보안 & 준수 센터를 사용하여 맬웨어 방지 정책 만들기

보안 센터에서 사용자 지정 맬웨어 방지 정책을 & 준수 센터에서 두 항목 모두 같은 이름을 사용하여 맬웨어 필터 규칙과 관련된 맬웨어 필터 정책을 동시에 만듭니다.

1. 보안 그룹 규정 준수 & 위협 관리 **정책 맬웨어** \> **방지로** \> **이동한 후**새 추가 **아이콘을** ![ ](../../media/ITPro-EAC-AddIcon.png) 클릭합니다.

2. **열리는 새 맬웨어 방지** 정책 페이지에서 다음 설정을 구성합니다.

   - **이름**: 정책을 설명하는 고유한 이름을 입력합니다.

   - **설명**: 정책에 대한 선택적 설명을 입력합니다.

   - **맬웨어 검색 응답:** 메시지가 격리된 경우 받는 사람에게 알리려면 이 값 중 **하나를 선택합니다.** 설정

     - **아니요:** 메시지가 격리되어 받는 사람에게 알림은 보장되지 않습니다. 이 값은 기본값입니다.

     - **예 및 기본 알림 텍스트**사용: 메시지가 격리됩니다. 메시지 복사본은 받는 사람에게 배달되지만 *all* 검색된 파일뿐이 아는 첨부 파일은 기본 텍스트를 포함하는 **맬웨어 알림이라는 단일 Text.txt텍스트 파일로** 대체됩니다. 기본 텍스트를 보려면 맬웨어 [방지 정책을 참조하세요.](anti-malware-protection.md#anti-malware-policies)

     - **예 및 사용자 지정 알림**텍스트 사용: 메시지가 격리됩니다. 메시지의 복사본은 받는 사람에게 배달되지만 *all* 검색된 파일뿐인 첨부 파일은 모두 맬웨어 경고 Text.txt사용자 지정 경고 **텍스트 상자에 지정한 사용자 지정 텍스트가 포함된 단일** 텍스트 **파일로 대체됩니다.**

   - **일반적인 첨부 파일 형식 필터:** 컴퓨터를 사용할 수 **있는 첨부 파일 형식을 차단하기 위한 다음 값 중 하나를 선택합니다.**

     - **해제**

     - **On**: Messages taspecified attachments are treated as malware detections and are automatically quarantintin. 목록을 버그로 클릭하여 **단추를** **수정할** 수 있습니다.

   - **맬웨어 제로 아우스 자동**제거: 맬웨어 ZAP는 이미 배달된 메시지를 격리합니다. 자세한 내용은 [Exchange Online의 ZAP(제로 아크자동 제거)를 참조하세요.](zero-hour-auto-purge.md) 다음 값 중 하나를 선택합니다.

     - **해제**

     - **설정(권장)**

   - **알림:** 이 섹션의 설정은 메시지에서 맬웨어가 감지되는 경우 보낸 사람 및 관리자 알림을 제어합니다.

     - **보낸 사람 알림:** 다음 옵션 중 하나 또는 둘 다를 선택합니다.

       - **내부 보낸 사람에게 알림**: 내부 보낸 사람이 조직 내부에 있습니다.

       - **외부 보낸 사람에게 알림**: 외부 보낸 사람이 조직 외부에 있습니다.

     - **관리자 알림:** 다음 옵션 중 하나 또는 둘 다를 선택합니다.

       - **내부 보낸 사람으로부터 배달되지 않은 메시지에 대해**관리자에게 알림 : 이 옵션을 선택하면 관리자 전자 메일 주소 상자에 알림 전자 **메일 주소를 입력하세요.**

       - **외부 보낸 사람으로부터 배달되지 않은 메시지에 대해 관리자에게 알립니다.** 이 옵션을 선택하면 관리자 전자 메일 주소 상자에 알림 전자 **메일 주소를 입력하세요.**

     - **알림 사용자**지정: 이러한 설정은 보낸 사람이나 관리자에 사용되는 기본 알림 텍스트를 대체합니다. 기본값에 대한 자세한 내용은 맬웨어 방지 [정책을 참조하십시오.](anti-malware-protection.md#anti-malware-policies)

       - **사용자 지정 알림 텍스트 사용**: 이 옵션을 **From name** 선택하는 **From address** 경우 보낸 사람 이름 및 보낸 사람 주소 상자를 사용하여 사용자 지정된 알림 메시지에 사용되는 보낸 사람이름과 전자 메일 주소를 지정해야 합니다.

       - **내부 보낸 사람의**메시지 : 보낸 사람 또는 관리자가 내부의 보낸 사람으로부터 배달할 수 없는 메시지에 대해 알리도록 하려는 경우 **제목과** 메시지 **상자를** 사용하여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정해야 합니다.

       - **외부 보낸 사람의**메시지 : 외부 보낸 사람으로부터 배달할 수 없는 메시지에 대해 보낸 사람이나 관리자에 알리도록 지정한 경우 **제목과** 메시지 **상자를** 사용하여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정해야 합니다.

   - **적용**대상: 이 섹션의 설정은 정책을 적용할 내부 받는 사람을 식별합니다.

     - **:** 한 드롭다운 **선택을 클릭하고** 규칙 조건을 선택합니다.

       - **받는 사람은**: 조직에서 하나 이상의 사서함, 메일 사용자 또는 메일 연락처를 지정합니다. 표시되는 **구성원 선택** 대화 상자에 목록에서 하나 이상의 받는 사람을 선택한 후 추가 -를 **클릭합니다. \> ** In the **Check names** box, you can use wildcards for multiple email addresses (for example: \* @fabrikam.com). 작업을 마친 후 **확인**을 클릭합니다.

       - **받는 사람 도메인은:** 조직에 구성된 허용 도메인 중 하나 이상의 받는 사람을 지정합니다. 나타나는 대화 상자에서 하나 이상의 도메인을 선택한 다음 추가 -를 **클릭합니다. \> ** 작업을 마친 후 **확인**을 클릭합니다.

       - **받는 사람이 조직의 그룹**구성원: 조직에서 하나 이상의 그룹을 지정합니다. 표시되는 **구성원 선택** 대화 상자의 목록에서 하나 이상의 그룹을 선택한 후 추가 -를 **클릭합니다. \> ** 작업을 마친 후 **확인**을 클릭합니다.

     조건은 한 번만 사용할 수 있지만 조건에는 여러 값을 지정할 수 있습니다. 동일한 조건의 여러 값은 OR 논리(예: or)를 _\<recipient1\>_ _\<recipient2\>_ 사용합니다. 다른 조건에는 AND 논리(예: 및)가 _\<recipient1\>_ _\<member of group 1\>_ 사용됩니다. 조건을 더 추가하려면 조건 **추가를 클릭하고** 나머지 옵션 중에서 선택합니다.

     - **Except if :** If if to add exceptions for the rule, click **add exception,** **Click one** drop-down, and configure the exceptions. 설정 및 동작은 조건과 정확히 같습니다.

3. 작업을 마쳤으면 **저장**을 클릭합니다.

## <a name="use-the-security--compliance-center-to-view-anti-malware-policies"></a>보안 대시보드 & 맬웨어 방지 정책 보기

1. 보안 대시보드 & 맬웨어 방지 **Threat management** \> **정책으로** \> **이동합니다.**

2. 정책을 선택하면 정책에 대한 정보가 세부 정보 창에 표시됩니다. 정책에 대한 자세한 내용을 보려면 편집 **아이콘을** ![ ](../../media/ITPro-EAC-EditIcon.png) 클릭합니다.

   - **사용 가능한** 속성 값, **우선 순위** 속성 값 및 적용된 **탭의** 설정이 맬웨어 필터 규칙에 포함됩니다.

   - 일반 및 설정 **탭의** **설정은** 맬웨어 필터 정책에 있습니다.

## <a name="use-the-security--compliance-center-to-modify-anti-malware-policies"></a>보안 보안 & 센터를 사용하여 맬웨어 방지 정책 수정

1. 보안 대시보드 & 맬웨어 방지 **Threat management** \> **정책으로** \> **이동합니다.**

2. 정책을 선택하고 편집 **아이콘을** ![ ](../../media/ITPro-EAC-EditIcon.png) 클릭합니다. 설정에 대한 자세한 내용은 이 [항목의 & 보안 폴더를 사용하여 맬웨어 방지 정책 만들기](#use-the-security--compliance-center-to-create-anti-malware-policies) 섹션을 참조하십시오.

   **참고:**

   - 이를 한 페이지에 있는 모든 페이지 대신, 설정은 일반, 설정 **및** **적용 탭으로** **나누어집니다.** 적용됨 **탭은** 기본 정책(모든 사용자에게 자동으로 적용됨)에서 사용할 수 없습니다.

   - 기본 정책의 이름을 바일 수 없습니다.

## <a name="use-the-security--compliance-center-to-enable-or-disable-anti-malware-policies"></a>보안 서비스 기반 & 사용하여 맬웨어 방지 정책을 사용하거나 사용하지 않도록 설정

1. 보안 대시보드 & 맬웨어 방지 **Threat management** \> **정책으로** \> **이동합니다.**

2. 목록에서 정책을 선택하고 다음 설정 중 하나를 구성합니다.

   - **정책 사용 안 함:** 사용 됨 열에서 확인란 **선택을 취소합니다.** 기본적으로 맬웨어 방지 정책은 준수 센터에서 만들 때 & 있습니다.

   - **정책 사용:** 사용 열의 **확인란을** 선택합니다.

## <a name="use-the-security--compliance-center-to-set-the-priority-of-custom-anti-malware-policies"></a>보안 기반 & 사용하여 사용자 지정 맬웨어 방지 정책의 우선 순위 설정

기본적으로 만들어진 순서에 따라 맬웨어 방지 정책에 우선순위가 지정됩니다(새 정책은 이전 정책보다 우선순위가 낮음). 낮은 우선순위 번호는 정책의 높은 우선순위를 나타냅니다. 정책은 우선순위 순서로 처리됩니다(높은 우선순위 정책은 낮은 우선순위 정책보다 먼저 처리됨). 두 정책의 우선순위는 동일 할 수 없으며, 첫 번째 정책이 적용된 후에는 정책 처리가 중지됩니다.

 **참고:**

- 보안 그룹 & 에서는 맬웨어 방지 정책을 만들고 정책의 우선 순위만 변경할 수 있습니다. PowerShell에서 사용자는 기존 규칙의 우선순위에 영향을 줄 수 있는 맬웨어 필터 규칙을 만들 때 기본 우선순위를 재정의할 수 있습니다.

- 보안 & 맬웨어 방지 정책은 표시된 순서대로 처리됩니다(첫 번째 정책에는 우선순위 값이 **0이** 포함). Default라는 기본 맬웨어 방지 정책의 우선순위 **값은**낮음이며 변경할 수 없습니다.

정책의 우선순위를 변경하려면 목록에서 정책을 위나 아래로 이동합니다. 보안 및 준수 센터에서 **우선순위** 번호를 직접 수정할 수는 없습니다.

1. 보안 대시보드 & 맬웨어 방지 **Threat management** \> **정책으로** \> **이동합니다.**

2. 정책을 선택한 다음 위쪽 **화살표 이동 아이콘 또는** 아래쪽 화살표 ![ ](../../media/ITPro-EAC-UpArrowIcon.png) **Move down** ![ 아이콘을 ](../../media/ITPro-EAC-DownArrowIcon.png) 이동하여 규칙을 목록에서 위나 아래로 이동합니다.

## <a name="use-the-security--compliance-center-to-remove-anti-malware-policies"></a>보안 셸 & 사용하여 맬웨어 방지 정책 제거하기

보안 센터를 사용하여 맬웨어 & 제거하면 맬웨어 필터 규칙과 해당 맬웨어 필터 정책이 모두 삭제됩니다.

1. 보안 대시보드 & 맬웨어 방지 **Threat management** \> **정책으로** \> **이동합니다.**

2. 목록에서 제거할 맬웨어 방지 정책을 선택하고 삭제 아이콘을 **Delete** ![ ](../../media/ITPro-EAC-DeleteIcon.png) 클릭합니다.

## <a name="use-exchange-online-powershell-or-standalone-eop-powershell-to-configure-anti-malware-policies"></a>Exchange Online PowerShell 또는 독립 실행형 EOP PowerShell을 사용하여 맬웨어 방지 정책 구성

### <a name="use-powershell-to-create-anti-malware-policies"></a>PowerShell을 사용하여 맬웨어 방지 정책 만들기

PowerShell에서 맬웨어 방지 정책을 만드는 작업은 2단계 프로세스입니다.

1. 맬웨어 필터 정책을 만듭니다.

2. 규칙이 적용되는 맬웨어 필터 정책을 지정하는 맬웨어 필터 규칙을 만듭니다.

 **참고:**

- 새 맬웨어 필터 규칙을 만들고 연결되지 않은 기존 맬웨어 필터 정책을 할당할 수 있습니다. 맬웨어 필터 규칙을 둘 이상의 맬웨어 필터 정책과 연결될 수는 없습니다.

- 정책을 만든 후에는 보안 & 준수 센터에서 사용할 수 없는 PowerShell의 새로운 맬웨어 방지 정책에 대해 다음 두 가지 설정을 구성할 수 있습니다.

  - 새 정책을 만듭니다(New-MalwareFilterRule_Enabled_ `$false` **cmdlet에서 사용 안** 함).

  - New-MalwareFilterRule cmdlet에서_생성하는_ 동안 정책 _\<Number\>_ 우선순위(우선 **순위)를 설정합니다.**

- 맬웨어 필터 규칙에 정책을 할당할 때까지 PowerShell에서 만든 새 맬웨어 필터 정책은 보안 기능 & 표시되지 않습니다.

#### <a name="step-1-use-powershell-to-create-a-malware-filter-policy"></a>1단계: PowerShell을 사용하여 맬웨어 필터 정책 만들기

**참고**: EOP에서 _Action 매개_ 변수 `DeleteMessage` `DeleteAttachmentAndUseDefaultAlert` 값을 사용하고 `DeleteAttachmentAndUseCustomAlert` 메시지를 삭제하지 않습니다. 메시지가 격리됩니다. 격리된 메시지 검색에 대한 자세한 내용은 EOP에서 관리자권한으로 격리된 메시지 [및 파일 관리를 참조하십시오.](manage-quarantined-messages-and-files.md)

맬웨어 필터 정책을 만들려면 다음 구문을 사용합니다.

```PowerShell
New-MalwareFilterPolicy -Name "<PolicyName>" [-Action <DeleteMessage | DeleteAttachmentAndUseDefaultAlert | DeleteAttachmentAndUseCustomAlert>] [-AdminDisplayName "<OptionalComments>"] [-CustomNotifications <$true | $false>] [<Inbound notification options>] [<Outbound notification options>]
```

이 예에서는 다음과 같은 설정을 사용하여 Contoso Malware Filter Policy라는 새 맬웨어 필터 정책을 만듭니다.

- 받는 사람에게 알림을 보내지 않고 맬웨어가 포함된 메시지 _격리(Action 매개 변수를_ 사용하지 않지만 기본값은 다음과 같음). `DeleteMessage`

- 메시지에서 맬웨어가 탐지된 경우 메시지 보낸 사람에게 알리지 _마세요(EnableExternalSenderNotifications_ 및 _EnableInternalSenderNotifications_ 매개 변수를 사용하지 않기와 둘 다에 대한 기본값을 사용하지 `$false` 않음).

- 내부 보낸 사람의 메시지에서 맬웨어가 탐지되는 경우 관리자인 admin@contoso.com에게 알립니다.

```PowerShell
New-MalwareFilterPolicy -Name "Contoso Malware Filter Policy" -EnableInternalSenderAdminNotifications $true -InternalSenderAdminAddress admin@contoso.com
```

구문과 매개 변수에 대한 자세한 내용은 [New-MalwareFilterPolicy를 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/new-malwarefilterpolicy)

#### <a name="step-2-use-powershell-to-create-a-malware-filter-rule"></a>2단계: PowerShell을 사용하여 맬웨어 필터 규칙 만들기

맬웨어 필터 규칙을 만들려면 다음 구문을 사용합니다.

```PowerShell
New-MalwareFilterRule -Name "<RuleName>" -MalwareFilterPolicy "<PolicyName>" <Recipient filters> [<Recipient filter exceptions>] [-Comments "<OptionalComments>"]
```

이 예에서는 다음 설정을 사용하여 Contoso Recipients라는 새 맬웨어 필터 규칙을 만듭니다.

- Contoso Malware Filter Policy라는 맬웨어 필터 정책은 규칙과 연결됩니다.

- 이 규칙은 개별 도메인 도메인의 contoso.com 적용됩니다.

```PowerShell
New-MalwareFilterRule -Name "Contoso Recipients" -MalwareFilterPolicy "Contoso Malware Filter Policy" -RecipientDomainIs contoso.com
```

구문과 매개 변수에 대한 자세한 내용은 [New-MalwareFilterRule을 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/new-malwarefilterrule)

### <a name="use-powershell-to-view-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 보기

모든 맬웨어 필터 정책의 요약 목록을 반환하려면 이 명령을 실행합니다.

```PowerShell
Get-MalwareFilterPolicy
```

특정 맬웨어 필터 정책에 대한 자세한 정보를 반환하려면 다음 구문을 사용하세요.

```PowerShell
Get-MalwareFilterPolicy -Identity "<PolicyName>" | Format-List [<Specific properties to view>]
```

이 예에서는 Executives라는 맬웨어 필터 정책의 모든 속성 값이 반환됩니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List
```

이 예에서는 동일한 정책에 대해 지정된 속성만 반환합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List Action,AdminDisplayName,CustomNotifications,Enable*Notifications
```

구문과 매개 변수에 대한 자세한 내용은 [Get-MalwareFilterPolicy를 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/get-malwarefilterpolicy)

### <a name="use-powershell-to-view-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 보기

모든 맬웨어 필터 규칙의 요약 목록을 반환하려면 이 명령을 실행합니다.

```PowerShell
Get-MalwareFilterRule
```

활성화된 또는 비활성화된 규칙을 기준으로 목록을 필터링하려면 다음 명령을 실행합니다.

```PowerShell
Get-HostedContentFilterRule -State Disabled
```

```PowerShell
Get-HostedContentFilterRule -State Enabled
```

특정 맬웨어 필터 규칙에 대한 자세한 정보를 반환하려면 다음 구문을 사용하세요.

```PowerShell
Get-MalwareFilterRule -Identity "<RuleName>" | Format-List [<Specific properties to view>]
```

이 예에서는 Executives라는 맬웨어 필터 규칙의 모든 속성 값을 반환합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List
```

이 예제에서는 동일한 규칙에 대해 지정한 속성만 반환합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List Name,Priority,State,MalwareFilterPolicy,*Is,*SentTo,*MemberOf
```

구문과 매개 변수에 대한 자세한 내용은 [Get-MalwareFilterRule을 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/get-malwarefilterrule)

### <a name="use-powershell-to-modify-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 수정하기

다음과 같은 항목 외에 PowerShell에서 맬웨어 필터 정책을 수정할 때 이 항목의 [앞부분에](#step-1-use-powershell-to-create-a-malware-filter-policy) 설명된 맬웨어 필터 정책 섹션을 만들 때 같은 설정을 사용할 수 있습니다.

- _지정된 정책을_ 기본 정책으로 변환하는 MakeDefault 스위치(모든 사용자, 수정할 수 없는 가장 **낮은** 우선순위에 적용됨, 삭제할 수 없음)는 PowerShell에서 맬웨어 필터 정책을 수정할 때만 사용할 수 있습니다.

- 맬웨어 필터 정책의 이름을 바일 수 **없습니다(Set-MalwareFilterPolicy cmdlet에는** Name 매개 _변수없음)._ 보안 및 준수 센터에서 맬웨어 방지 정책의 이름을 & 맬웨어 필터 규칙의 이름만 _변경됩니다._

맬웨어 필터 정책을 수정하려면 다음 구문을 사용하세요.

```PowerShell
Set-MalwareFilterPolicy -Identity "<PolicyName>" <Settings>
```

구문과 매개 변수에 대한 자세한 내용은 [Set-MalwareFilterPolicy를 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/set-malwarefilterpolicy)

### <a name="use-powershell-to-modify-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 수정하기

PowerShell에서 맬웨어 필터 규칙을 수정할 때 사용할 수 없는 설정은 사용 안 함 _규칙을_ 만들 수 있는 사용 안함 매개 변수입니다. 기존 맬웨어 필터 규칙을 사용하거나 사용하지 않도록 설정하려면 다음 섹션을 참조하세요.

그렇지 않으면 PowerShell에서 맬웨어 필터 규칙을 수정할 때 추가 설정을 사용할 수 없습니다. [2단계: PowerShell을](#step-2-use-powershell-to-create-a-malware-filter-rule) 사용하여 이 항목의 앞부분에 있는 맬웨어 필터 규칙 섹션을 만들 때도 동일한 설정을 사용할 수 있습니다.

맬웨어 필터 규칙을 수정하려면 다음 구문을 사용합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" <Settings>
```

구문과 매개 변수에 대한 자세한 내용은 [Set-MalwareFilterRule을 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/set-malwarefilterrule)

### <a name="use-powershell-to-enable-or-disable-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙을 사용하거나 사용하지 않도록 설정

PowerShell에서 맬웨어 필터 규칙을 사용하거나 사용하지 않도록 설정하면 전체 맬웨어 방지 정책(맬웨어 필터 규칙과 할당된 맬웨어 필터 정책)을 사용하거나 사용하지 않도록 설정합니다. 기본 맬웨어 방지 정책을 사용하거나 사용하지 않도록 설정할 수 없습니다(항상 모든 받는 사람에게 적용됨).

PowerShell에서 맬웨어 필터 규칙을 사용하거나 사용하지 않도록 설정하려면 다음 구문을 사용하세요.

```PowerShell
<Enable-MalwareFilterRule | Disable-MalwareFilterRule> -Identity "<RuleName>"
```

다음은 Marketing Department라는 맬웨어 필터 규칙을 사용하지 않도록 설정하는 예제입니다.

```PowerShell
Disable-MalwareFilterRule -Identity "Marketing Department"
```

다음은 동일한 규칙을 사용하도록 설정하는 예제입니다.

```PowerShell
Enable-MalwareFilterRule -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Enable-MalwareFilterRule 및](https://docs.microsoft.com/powershell/module/exchange/enable-malwarefilterrule) [Disable-MalwareFilterRule을 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/disable-malwarefilterrule)

### <a name="use-powershell-to-set-the-priority-of-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙의 우선 순위 설정하기

규칙에 설정 가능한 가장 높은 우선 순위 값은 0입니다. 설정할 수 있는 가장 낮은 값은 규칙 수에 따라 달라집니다. 예를 들어 규칙이 5개 있는 경우, 우선순위 값 0~4를 사용할 수 있습니다. 기존 규칙의 우선순위를 변경하면 다른 규칙에 계단식 효과를 줄 수 있습니다. 예를 들어 사용자 지정 규칙 5개(우선순위: 0~4)가 있고 규칙의 우선순위를 2로 변경하면, 우선순위 2인 기존 규칙이 우선순위 3으로 변경되고, 우선순위 3인 규칙이 우선순위 4로 변경됩니다.

PowerShell에서 맬웨어 필터 규칙의 우선순위를 설정하려면 다음 구문을 사용합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" -Priority <Number>
```

다음은 Marketing Department라는 규칙의 우선순위를 2로 설정하는 예제입니다. 우선순위가 2 이하인 모든 기존 규칙은 1씩 감소합니다(우선순위 번호는 1씩 증가함).

```PowerShell
Set-MalwareFilterRule -Identity "Marketing Department" -Priority 2
```

**참고:**

- 새 규칙을 만들 때 새 규칙의 우선 순위를 설정하려면 **New-MalwareFilterRule** cmdlet의 _우선_ 순위 매개 변수를 대신 사용하세요.

- 기본 맬웨어 필터 정책에는 상용하는 맬웨어 필터 규칙이 없기는 하지만 항상 수정할 수 없는 상태가 가장 **낮은 우선순위 값을 가지고 있습니다.**

### <a name="use-powershell-to-remove-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 제거하기

PowerShell을 사용하여 맬웨어 필터 정책을 제거할 때 해당하는 맬웨어 필터 규칙은 제거되지 않습니다.

PowerShell에서 맬웨어 필터 정책을 제거하려면 다음 구문을 사용하세요.

```PowerShell
Remove-MalwareFilterPolicy -Identity "<PolicyName>"
```

이 예에서는 Marketing Department라는 맬웨어 필터 정책을 제거합니다.

```PowerShell
Remove-MalwareFilterPolicy -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Remove-MalwareFilterPolicy를 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/remove-malwarefilterpolicy)

### <a name="use-powershell-to-remove-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 제거하기

PowerShell을 사용하여 맬웨어 필터 규칙을 제거할 때 해당하는 맬웨어 필터 정책은 제거되지 않습니다.

PowerShell에서 맬웨어 필터 규칙을 제거하려면 다음 구문을 사용하세요.

```PowerShell
Remove-MalwareFilterRule -Identity "<PolicyName>"
```

다음은 Marketing Department라는 맬웨어 필터 규칙을 제거하는 예제입니다.

```PowerShell
Remove-MalwareFilterRule -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Remove-MalwareFilterRule을 참조하십시오.](https://docs.microsoft.com/powershell/module/exchange/remove-malwarefilterrule)

## <a name="how-do-you-know-these-procedures-worked"></a>이 절차가 제대로 수행되었는지 어떻게 확인하나요?

### <a name="use-the-eicartxt-file-to-verify-your-anti-malware-policy-settings"></a>파일의 EICAR.TXT 사용하여 맬웨어 방지 정책 설정 확인

> [!IMPORTANT]
> 업데이트 EICAR.TXT 바이러스가 아아있습니다. EICAR(European Institute for Computer Antivirus Research)은 바이러스 백신 설치 및 설정을 안전하게 테스트하기 위해 이 파일을 개발했습니다.

1. 메모장을 열어 빈 파일에 붙여 넣습니다.

   ```Text
   X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*
   ```

   파일에서 이들 텍스트 문자만 입력해야 합니다. 파일 크기는 68바이트입니다.

2. 파일을 목록 으로 EICAR.TXT

   데스크톱 바이러스 백신 프로그램에서 개인 기명을 검색에서 EICAR.TXT 제외해야 합니다(그렇지 않으면 파일이 격리됨).

3. 파일이 자동으로 차단되지 않는 전자 메일 클라이언트를 사용하여 EICAR.TXT 파일을 첨부 파일로 포함하는 전자 메일 메시지를 보냅니다. 맬웨어 방지 정책 설정을 사용하여 테스트할 다음 시나리오를 결정합니다.

   - 내부 사서함에서 내부 받는 사람에게 보낸 메일입니다.

   - 내부 사서함에서 외부의 받는 사람에게 가는 전자 메일

   - 외부 사서함에서 내부 받는 사람에게 보낸 메일

4. 메시지가 격리되었는지 확인하고 맬웨어 방지 정책 설정에 따라 받는 사람 및 보낸 사람 알림 결과를 확인합니다. 예제:

   - 받는 사람은 알림을 받지 않거나, 받는 사람이 기본 또는 사용자 지정 EICAR.TXT 텍스트를 포함하는 맬웨어 EICAR.TXT **첨부 파일이 Text.txt** 메시지를 받게 됩니다.

   - 내부 또는 외부 보낸 사람에게 기본 또는 사용자 지정된 알림 메시지가 알림을 받습니다.

   - 지정한 관리자 전자 메일 주소가 기본 알림 또는 사용자 지정 알림 메시지를 포함하여 내부 또는 외부 메시지를 보낸 사람에게 알림을 받습니다.

5. 테스트가 EICAR.TXT 완료된 후 편집 파일을 삭제합니다(다른 사용자의 작업이 이에 의해 같지 않도록 하기).
