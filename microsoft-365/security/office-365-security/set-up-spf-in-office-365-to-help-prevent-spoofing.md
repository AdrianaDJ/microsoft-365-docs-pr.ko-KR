---
title: 스푸핑을 방지할 수 있도록 SPF 설정
f1.keywords:
- CSH
ms.author: tracyp
author: MSFTTracyP
manager: dansimp
ms.date: 11/21/2019
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Priority
search.appverid:
- MET150
ms.assetid: 71373291-83d2-466f-86ea-fc61493743a6
ms.collection:
- M365-security-compliance
ms.custom:
- seo-marvel-apr2020
description: Office 365에서 사용자 지정 도메인과 함께 SPF(Sender Policy Framework)를 사용할 수 있도록 DNS(도메인 이름 서비스) 레코드를 업데이트하는 방법을 알아봅니다.
ms.openlocfilehash: dfbd5f7091420d079f91b93f7c581ed69572b7bd
ms.sourcegitcommit: fa8e488936a36e4b56e1252cb4061b5bd6c0eafc
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/13/2020
ms.locfileid: "46656614"
---
# <a name="set-up-spf-to-help-prevent-spoofing"></a><span data-ttu-id="a3de7-103">스푸핑을 방지할 수 있도록 SPF 설정</span><span class="sxs-lookup"><span data-stu-id="a3de7-103">Set up SPF to help prevent spoofing</span></span>

 <span data-ttu-id="a3de7-104">**요약:** 이 문서에서는 Office 365에서 사용자 지정 도메인과 함께 SPF (Sender Policy Framework)를 사용할 수 있도록 DNS (Domain Name Service) 레코드를 업데이트하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-104">**Summary:** This article describes how to update a Domain Name Service (DNS) record so that you can use Sender Policy Framework (SPF) with your custom domain in Office 365.</span></span> <span data-ttu-id="a3de7-105">SPF를 사용하여 사용자 지정 도메인에서 전송한 아웃바운드 전자 메일의 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="a3de7-105">Using SPF helps to validate outbound email sent from your custom domain.</span></span>

<span data-ttu-id="a3de7-106">사용자 지정 도메인을 사용하려면 Office 365에서는 스푸핑을 방지하는 데 도움이 되도록 SPF (Sender Policy Framework) TXT 레코드를 사용자 DNS 레코드에 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-106">In order to use a custom domain, Office 365 requires that you add a Sender Policy Framework (SPF) TXT record to your DNS record to help prevent spoofing.</span></span> <span data-ttu-id="a3de7-107">SPF는 사용자를 대신하여 메일을 보낼 수 있는 메일 서버를 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-107">SPF identifies which mail servers are allowed to send mail on your behalf.</span></span> <span data-ttu-id="a3de7-108">기본적으로 SPF는 DKIM, DMARC 및 Office 365에서 지원하는 기타 기술과 함께 스푸핑 및 피싱을 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-108">Basically, SPF, along with DKIM, DMARC, and other technologies supported by Office 365, help prevent spoofing and phishing.</span></span> <span data-ttu-id="a3de7-109">SPF는 사용자 지정 도메인을 대신하여 메일을 보낼 수 있는 메일 서버를 식별하기 위해 DNS에서 사용하는 TXT 레코드에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-109">SPF is added as a TXT record that is used by DNS to identify which mail servers can send mail on behalf of your custom domain.</span></span> <span data-ttu-id="a3de7-110">받는 사람의 메일 시스템은 SPF TXT 레코드를 참조하여 사용자 지정 도메인의 메시지가 인증된 메시징 서버에서 온 것인지 여부를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-110">Recipient mail systems refer to the SPF TXT record to determine whether a message from your custom domain comes from an authorized messaging server.</span></span>

<span data-ttu-id="a3de7-111">예를 들어 사용자 지정 도메인 contoso.com이 Office 365를 사용한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-111">For example, let's say that your custom domain contoso.com uses Office 365.</span></span> <span data-ttu-id="a3de7-112">Office 365 메시징 서버를 사용자 도메인의 정상적인 메일 서버로 나열하는 SPF TXT 레코드를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-112">You add an SPF TXT record that lists the Office 365 messaging servers as legitimate mail servers for your domain.</span></span> <span data-ttu-id="a3de7-113">수신 메시징 서버가 joe@contoso.com으로부터 메시지를 받으면 서버는 contoso.com의 SPF TXT 레코드를 조회하여 메시지가 유효한지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-113">When the receiving messaging server gets a message from joe@contoso.com, the server looks up the SPF TXT record for contoso.com and finds out whether the message is valid.</span></span> <span data-ttu-id="a3de7-114">수신 서버에서 SPF 레코드에 나열된 Office 365 메시징 서버 이외의 서버에서 받은 메시지를 발견하는 경우 수신 메일 서버에서 메시지를 스팸으로 거부하도록 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-114">If the receiving server finds out that the message comes from a server other than the Office 365 messaging servers listed in the SPF record, the receiving mail server can choose to reject the message as spam.</span></span>

<span data-ttu-id="a3de7-115">또한 사용자 지정 도메인에 SPF TXT 레코드가 없는 경우 일부 수신 서버에서 메시지를 완전히 거부할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-115">Also, if your custom domain does not have an SPF TXT record, some receiving servers may reject the message outright.</span></span> <span data-ttu-id="a3de7-116">이는 수신 서버에서 메시지가 인증된 메시징 서버에서 온 것인지 확인할 수 없기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-116">This is because the receiving server cannot validate that the message comes from an authorized messaging server.</span></span>

<span data-ttu-id="a3de7-117">사용자가 Office 365용 메일을 이미 설정한 경우 SPF TXT 레코드로 Microsoft 메시징 서버를 DNS에 이미 포함 시켰습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-117">If you've already set up mail for Office 365, then you have already included Microsoft's messaging servers in DNS as an SPF TXT record.</span></span> <span data-ttu-id="a3de7-118">그러나 DNS에서 SPF TXT 레코드를 업데이트해야 하는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-118">However, there are some cases where you may need to update your SPF TXT record in DNS.</span></span> <span data-ttu-id="a3de7-119">예:</span><span class="sxs-lookup"><span data-stu-id="a3de7-119">For example:</span></span>

- <span data-ttu-id="a3de7-120">이전에는 SharePoint Online을 사용하는 경우 다른 SPF TXT 레코드를 사용자 지정 도메인에 추가해야 했습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-120">Previously, you had to add a different SPF TXT record to your custom domain if you were using SharePoint Online.</span></span> <span data-ttu-id="a3de7-121">이 작업은 더 이상 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-121">This is no longer required.</span></span> <span data-ttu-id="a3de7-122">이렇게 변경하면 정크 메일 폴더에 SharePoint Online 알림 메시지가 표시될 위험이 줄어 듭니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-122">This change should reduce the risk of SharePoint Online notification messages ending up in the Junk Email folder.</span></span> <span data-ttu-id="a3de7-123">조회 제한 10개에 도달하여 "조회 제한 초과" 및 "너무 많은 홉"과 같은 오류가 발생하는 경우 SPF TXT 레코드를 업데이트하세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-123">Update your SPF TXT record if you are hitting the 10 lookup limit and receiving errors that say things like, "exceeded the lookup limit" and "too many hops".</span></span>

- <span data-ttu-id="a3de7-124">Office 365 및 Exchange 온-프레미스의 하이브리드 환경이 있는 경우</span><span class="sxs-lookup"><span data-stu-id="a3de7-124">If you have a hybrid environment with Office 365 and Exchange on-premises.</span></span>

- <span data-ttu-id="a3de7-125">DKIM 및 DMARC (권장)를 설정하려고합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-125">You intend to set up DKIM and DMARC (recommended).</span></span>

## <a name="updating-your-spf-txt-record-for-office-365"></a><span data-ttu-id="a3de7-126">Office 365용 SPF TXT 레코드를 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-126">Updating your SPF TXT record for Office 365</span></span>

<span data-ttu-id="a3de7-127">DNS에서 TXT 레코드를 업데이트하기 전에 먼저 정보를 수집하고 레코드 형식을 결정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-127">Before you update the TXT record in DNS, you need to gather some information and determine the format of the record.</span></span> <span data-ttu-id="a3de7-128">이렇게 하면 DNS 오류가 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-128">This will help prevent you from generating DNS errors.</span></span> <span data-ttu-id="a3de7-129">지원되는 SPF 구문에 대한 자세한 내용과 고급 예제를 보려면 [SPF가 Office 365에서 스푸핑 및 피싱을 방지하는 방법](how-office-365-uses-spf-to-prevent-spoofing.md#HowSPFWorks)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-129">For advanced examples and a more detailed discussion about supported SPF syntax, see [How SPF works to prevent spoofing and phishing in Office 365](how-office-365-uses-spf-to-prevent-spoofing.md#HowSPFWorks).</span></span>

<span data-ttu-id="a3de7-130">다음 정보를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-130">Gather this information:</span></span>

- <span data-ttu-id="a3de7-131">사용자 정의 도메인의 현재 SPF TXT 레코드.</span><span class="sxs-lookup"><span data-stu-id="a3de7-131">The current SPF TXT record for your custom domain.</span></span> <span data-ttu-id="a3de7-132">지침은 [Office 365 DNS 레코드를 만드는 데 필요한 정보 수집](https://docs.microsoft.com/microsoft-365/admin/get-help-with-domains/information-for-dns-records)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-132">For instructions, see [Gather the information you need to create Office 365 DNS records](https://docs.microsoft.com/microsoft-365/admin/get-help-with-domains/information-for-dns-records).</span></span>

- <span data-ttu-id="a3de7-133">모든 온-프레미스 메시징 서버의 외부 IP 주소.</span><span class="sxs-lookup"><span data-stu-id="a3de7-133">External IP addresses of all on-premises messaging servers.</span></span> <span data-ttu-id="a3de7-134">예를 들어, **131.107.2.200**.</span><span class="sxs-lookup"><span data-stu-id="a3de7-134">For example, **131.107.2.200**.</span></span>

- <span data-ttu-id="a3de7-135">SPF TXT 레코드에 포함해야하는 모든 제3자 도메인에 사용할 도메인 이름.</span><span class="sxs-lookup"><span data-stu-id="a3de7-135">Domain names to use for all third-party domains that you need to include in your SPF TXT record.</span></span> <span data-ttu-id="a3de7-136">일부 대량 메일 공급자는 고객에게 사용할 하위 도메인을 설정했습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-136">Some bulk mail providers have set up subdomains to use for their customers.</span></span> <span data-ttu-id="a3de7-137">예를 들어, MailChimp 회사는 **servers.mcsv.net**을 설정했습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-137">For example, the company MailChimp has set up **servers.mcsv.net**.</span></span>

- <span data-ttu-id="a3de7-138">SPF TXT 레코드에 사용할 시행 규칙을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-138">Determine what enforcement rule you want to use for your SPF TXT record.</span></span> <span data-ttu-id="a3de7-139">**-all**을 권장합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-139">We recommend **-all**.</span></span> <span data-ttu-id="a3de7-140">다른 구문 옵션에 대한 자세한 내용은 [Office 365용 SPF TXT 레코드 구문](how-office-365-uses-spf-to-prevent-spoofing.md#SPFSyntaxO365)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-140">For detailed information about other syntax options, see [SPF TXT record syntax for Office 365](how-office-365-uses-spf-to-prevent-spoofing.md#SPFSyntaxO365).</span></span>

### <a name="to-add-or-update-your-spf-txt-record"></a><span data-ttu-id="a3de7-141">SPF TXT 레코드를 추가하거나 업데이트하려면</span><span class="sxs-lookup"><span data-stu-id="a3de7-141">To add or update your SPF TXT record</span></span>

1. <span data-ttu-id="a3de7-142">다음 표에서는 SPF 구문을 잘 알고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-142">Ensure that you're familiar with the SPF syntax in the following table.</span></span>

   ****

   |<!-- -->|<span data-ttu-id="a3de7-143">만약 다음을 사용 중이라면...</span><span class="sxs-lookup"><span data-stu-id="a3de7-143">If you're using...</span></span>|<span data-ttu-id="a3de7-144">고객에게 일반적인가요?</span><span class="sxs-lookup"><span data-stu-id="a3de7-144">Common for customers?</span></span>|<span data-ttu-id="a3de7-145">이 항목을 추가하세요...</span><span class="sxs-lookup"><span data-stu-id="a3de7-145">Add this...</span></span>|
   |---|---|---|---|
   |<span data-ttu-id="a3de7-146">1</span><span class="sxs-lookup"><span data-stu-id="a3de7-146">1</span></span>|<span data-ttu-id="a3de7-147">모든 전자 메일 시스템 (필수)</span><span class="sxs-lookup"><span data-stu-id="a3de7-147">Any email system (required)</span></span>|<span data-ttu-id="a3de7-148">공통.</span><span class="sxs-lookup"><span data-stu-id="a3de7-148">Common.</span></span> <span data-ttu-id="a3de7-149">이 값으로 시작하는 모든 SPF TXT 레코드</span><span class="sxs-lookup"><span data-stu-id="a3de7-149">All SPF TXT records start with this value</span></span>|<span data-ttu-id="a3de7-150">v=spf1</span><span class="sxs-lookup"><span data-stu-id="a3de7-150">v=spf1</span></span>|
   |<span data-ttu-id="a3de7-151">2</span><span class="sxs-lookup"><span data-stu-id="a3de7-151">2</span></span>|<span data-ttu-id="a3de7-152">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="a3de7-152">Exchange Online</span></span>|<span data-ttu-id="a3de7-153">공통</span><span class="sxs-lookup"><span data-stu-id="a3de7-153">Common</span></span>|<span data-ttu-id="a3de7-154">포함:spf.protection.outlook.com</span><span class="sxs-lookup"><span data-stu-id="a3de7-154">include:spf.protection.outlook.com</span></span>|
   |<span data-ttu-id="a3de7-155">3</span><span class="sxs-lookup"><span data-stu-id="a3de7-155">3</span></span>|<span data-ttu-id="a3de7-156">Exchange Online 전용</span><span class="sxs-lookup"><span data-stu-id="a3de7-156">Exchange Online dedicated only</span></span>|<span data-ttu-id="a3de7-157">공통이 아님</span><span class="sxs-lookup"><span data-stu-id="a3de7-157">Not common</span></span>|<span data-ttu-id="a3de7-158">ip4:23.103.224.0/19 ip4:206.191.224.0/19 ip4:40.103.0.0/16 include:spf.protection.outlook.com</span><span class="sxs-lookup"><span data-stu-id="a3de7-158">ip4:23.103.224.0/19 ip4:206.191.224.0/19 ip4:40.103.0.0/16 include:spf.protection.outlook.com</span></span>|
   |<span data-ttu-id="a3de7-159">4</span><span class="sxs-lookup"><span data-stu-id="a3de7-159">4</span></span>|<span data-ttu-id="a3de7-160">Office 365 독일, Microsoft Cloud 독일 전용</span><span class="sxs-lookup"><span data-stu-id="a3de7-160">Office 365 Germany, Microsoft Cloud Germany only</span></span>|<span data-ttu-id="a3de7-161">공통이 아님</span><span class="sxs-lookup"><span data-stu-id="a3de7-161">Not common</span></span>|<span data-ttu-id="a3de7-162">include:spf.protection.outlook.de</span><span class="sxs-lookup"><span data-stu-id="a3de7-162">include:spf.protection.outlook.de</span></span>|
   |<span data-ttu-id="a3de7-163">5</span><span class="sxs-lookup"><span data-stu-id="a3de7-163">5</span></span>|<span data-ttu-id="a3de7-164">제3자 전자 메일 시스템</span><span class="sxs-lookup"><span data-stu-id="a3de7-164">Third-party email system</span></span>|<span data-ttu-id="a3de7-165">공통이 아님</span><span class="sxs-lookup"><span data-stu-id="a3de7-165">Not common</span></span>|<span data-ttu-id="a3de7-166">포함되는 사항은 다음과 같습니다.\<domain name\></span><span class="sxs-lookup"><span data-stu-id="a3de7-166">include:\<domain name\></span></span>  <br/> <span data-ttu-id="a3de7-167">여기서 도메인 이름은 제3자 전자 메일 시스템의 도메인 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-167">Where domain name is the domain name of the third party email system.</span></span>|
   |<span data-ttu-id="a3de7-168">6</span><span class="sxs-lookup"><span data-stu-id="a3de7-168">6</span></span>|<span data-ttu-id="a3de7-169">온-프레미스 메일 시스템</span><span class="sxs-lookup"><span data-stu-id="a3de7-169">On-premises mail system.</span></span> <span data-ttu-id="a3de7-170">예를 들어 Exchange Online Protection 및 다른 메일 시스템</span><span class="sxs-lookup"><span data-stu-id="a3de7-170">For example, Exchange Online Protection plus another mail system</span></span>|<span data-ttu-id="a3de7-171">공통이 아님</span><span class="sxs-lookup"><span data-stu-id="a3de7-171">Not common</span></span>| <span data-ttu-id="a3de7-172">추가 메일 시스템마다 다음 중 하나를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-172">Use one of these for each additional mail system:</span></span> <br> <span data-ttu-id="a3de7-173">ip4:\<_IP address_\></span><span class="sxs-lookup"><span data-stu-id="a3de7-173">ip4:\<_IP address_\></span></span>  <br/>  <span data-ttu-id="a3de7-174">ip6:\<_IP address_\></span><span class="sxs-lookup"><span data-stu-id="a3de7-174">ip6:\<_IP address_\></span></span>  <br/>  <span data-ttu-id="a3de7-175">포함되는 사항은 다음과 같습니다.\<_domain name_\></span><span class="sxs-lookup"><span data-stu-id="a3de7-175">include:\<_domain name_\></span></span>  <br/>  <span data-ttu-id="a3de7-176">여기서 \<_IP address_\> 값은 다른 메일 시스템의 IP 주소이고 \<_domain name_\>은 사용자 도메인을 대신하여 메일을 보내는 다른 메일 시스템의 도메인 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-176">Where the value for \<_IP address_\> is the IP address of the other mail system and \<_domain name_\> is the domain name of the other mail system that sends mail on behalf of your domain.</span></span>|
   |<span data-ttu-id="a3de7-177">7</span><span class="sxs-lookup"><span data-stu-id="a3de7-177">7</span></span>|<span data-ttu-id="a3de7-178">모든 전자 메일 시스템 (필수)</span><span class="sxs-lookup"><span data-stu-id="a3de7-178">Any email system (required)</span></span>|<span data-ttu-id="a3de7-179">공통.</span><span class="sxs-lookup"><span data-stu-id="a3de7-179">Common.</span></span> <span data-ttu-id="a3de7-180">이 값으로 끝나는 모든 SPF TXT 레코드</span><span class="sxs-lookup"><span data-stu-id="a3de7-180">All SPF TXT records end with this value</span></span>|\<_enforcement rule_\>  <br/> <span data-ttu-id="a3de7-181">다음 여러 값 중 하나일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-181">This can be one of several values.</span></span> <span data-ttu-id="a3de7-182">**-all**을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-182">We recommend that you use **-all**.</span></span>|
   |

2. <span data-ttu-id="a3de7-183">아직 이 작업을 수행하지 않은 경우 다음 표의 구문을 사용하여 SPF TXT 레코드를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-183">If you haven't already done so, form your SPF TXT record by using the syntax from the table:</span></span>

   <span data-ttu-id="a3de7-184">예를 들어, Office 365에서 완전히 호스팅되는 즉, 온-프레미스 메일 서버가 없는 경우, SPF TXT 레코드에는 1, 2 및 7행이 포함되며 다음과 같이 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-184">For example, if you are fully-hosted in Office 365, that is, you have no on-premises mail servers, your SPF TXT record would include rows 1, 2, and 7 and would look like this:</span></span>

   `v=spf1 include:spf.protection.outlook.com -all`

   <span data-ttu-id="a3de7-185">이것이 가장 일반적인 SPF TXT 레코드입니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-185">This is the most common SPF TXT record.</span></span> <span data-ttu-id="a3de7-186">이 레코드는 사용자의 Microsoft 데이터 센터가 미국, 유럽 (독일 포함) 또는 다른 위치에 있는지 여부에 관계없이 모든 사람에게 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-186">This record works for just about everyone, regardless of whether your Microsoft datacenter is located in the United States, or in Europe (including Germany), or in another location.</span></span>

   <span data-ttu-id="a3de7-187">그러나 Microsoft Cloud 독일의 일부인 Office 365 Germany를 구매한 경우 2행 대신 4행의 include 문을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-187">However, if you have purchased Office 365 Germany, part of Microsoft Cloud Germany, you should use the include statement from line 4 instead of line 2.</span></span> <span data-ttu-id="a3de7-188">예를 들어, Office 365 Germany에서 완전히 호스팅되는 즉, 온-프레미스 메일 서버가 없는 경우, SPF TXT 레코드에는 1, 4 및 7행이 포함되며 다음과 같이 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-188">For example, if you are fully-hosted in Office 365 Germany, that is, you have no on-premises mail servers, your SPF TXT record would include rows 1, 4, and 7 and would look like this:</span></span>

   `v=spf1 include:spf.protection.outlook.de -all`

   <span data-ttu-id="a3de7-189">사용자가 이미 Office 365에 배포되어 있고 사용자 지정 도메인에 대한 SPF TXT 레코드를 설정했고 Office 365 Germany로 마이그레이션하는 경우에는 SPF TXT 레코드를 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-189">If you're already deployed in Office 365 and have set up your SPF TXT records for your custom domain, and you're migrating to Office 365 Germany, you need to update your SPF TXT record.</span></span> <span data-ttu-id="a3de7-190">이렇게 하려면 **include:spf.protection.outlook.com**을 **include:spf.protection.outlook.de**로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-190">To do this, change **include:spf.protection.outlook.com** to **include:spf.protection.outlook.de**.</span></span>

3. <span data-ttu-id="a3de7-191">SPF TXT 레코드를 구성한 후에는 DNS에서 레코드를 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-191">Once you have formed your SPF TXT record, you need to update the record in DNS.</span></span> <span data-ttu-id="a3de7-192">도메인에 대해 하나의 SPF TXT 레코드만 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-192">You can only have one SPF TXT record for a domain.</span></span> <span data-ttu-id="a3de7-193">SPF TXT 레코드가 존재하는 경우 새 레코드를 추가하는 대신 기존 레코드를 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-193">If an SPF TXT record exists, instead of adding a new record, you need to update the existing record.</span></span> <span data-ttu-id="a3de7-194">[Office 365용 DNS 레코드 만들기](https://docs.microsoft.com/microsoft-365/admin/get-help-with-domains/create-dns-records-at-any-dns-hosting-provider)로 이동한 다음 DNS 호스트에 대한 링크를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-194">Go to [Create DNS records for Office 365](https://docs.microsoft.com/microsoft-365/admin/get-help-with-domains/create-dns-records-at-any-dns-hosting-provider), and then click the link for your DNS host.</span></span>

4. <span data-ttu-id="a3de7-195">사용자의 SPF TXT 레코드를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-195">Test your SPF TXT record.</span></span>

## <a name="how-to-handle-subdomains"></a><span data-ttu-id="a3de7-196">하위 도메인을 어떻게 처리합니까?</span><span class="sxs-lookup"><span data-stu-id="a3de7-196">How to handle subdomains?</span></span>

<span data-ttu-id="a3de7-197">하위 도메인은 최상위 도메인의 SPF 레코드를 상속하지 않으므로 각 하위 도메인에 대해 별도의 레코드를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-197">It is important to note that you need to create a separate record for each subdomain as subdomains don't inherit the SPF record of their top level domain.</span></span>

<span data-ttu-id="a3de7-198">모든 도메인 및 하위 도메인에 대해 추가 와일드카드 SPF 레코드(`*.`)가 있어야 공격자가 존재하지 않는 하위 도메인에서 보낸다고 주장하는 전자 메일을 보낼 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-198">An additional wildcard SPF record (`*.`) is required for every domain and subdomain to prevent attackers from sending email claiming to be from non-existent subdomains.</span></span> <span data-ttu-id="a3de7-199">예를 들어,</span><span class="sxs-lookup"><span data-stu-id="a3de7-199">For example:</span></span>

```console
*.subdomain.contoso.com. IN TXT "v=spf1 –all"
```

## <a name="more-information-about-spf"></a><span data-ttu-id="a3de7-200">SPF에 대한 자세한 정보</span><span class="sxs-lookup"><span data-stu-id="a3de7-200">More information about SPF</span></span>

<span data-ttu-id="a3de7-201">지원되는 SPF 구문, 스푸핑, 문제 해결 및 Office 365에서 SPF를 지원하는 방법에 대한 자세한 내용과 고급 예제를 보려면 [SPF가 Office 365에서 스푸핑 및 피싱을 방지하는 방법](how-office-365-uses-spf-to-prevent-spoofing.md#HowSPFWorks)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-201">For advanced examples, a more detailed discussion about supported SPF syntax, spoofing, troubleshooting, and how Office 365 supports SPF, see [How SPF works to prevent spoofing and phishing in Office 365](how-office-365-uses-spf-to-prevent-spoofing.md#HowSPFWorks).</span></span>

## <a name="next-steps-after-you-set-up-spf-for-office-365"></a><span data-ttu-id="a3de7-202">다음 단계: Office 365에 대한 SPF를 설정한 후</span><span class="sxs-lookup"><span data-stu-id="a3de7-202">Next steps: After you set up SPF for Office 365</span></span>

<span data-ttu-id="a3de7-203">SPF TXT 레코드에 문제가 있나요?</span><span class="sxs-lookup"><span data-stu-id="a3de7-203">Having trouble with your SPF TXT record?</span></span> <span data-ttu-id="a3de7-204">[문제 해결: Office 365의 SPF에 대한 모범 사례](how-office-365-uses-spf-to-prevent-spoofing.md#SPFTroubleshoot)를 읽으세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-204">Read [Troubleshooting: Best practices for SPF in Office 365](how-office-365-uses-spf-to-prevent-spoofing.md#SPFTroubleshoot).</span></span>

 <span data-ttu-id="a3de7-205">SPF는 스푸핑 차단을 돕지만 SPF가 방어할 수 없는 스푸핑 기술이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-205">SPF is designed to help prevent spoofing, but there are spoofing techniques that SPF cannot protect against.</span></span> <span data-ttu-id="a3de7-206">이 같은 기술을 차단하려면 SPF를 설치한 후에 Office 365의 DKIM 및 DMARC도 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3de7-206">In order to protect against these, once you have set up SPF, you should also configure DKIM and DMARC for Office 365.</span></span> <span data-ttu-id="a3de7-207">시작하려면 [DKIM을 사용하여 Office 365의 사용자 지정 도메인에서 보낸 아웃바운드 전자 메일의 유효성 검사](use-dkim-to-validate-outbound-email.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-207">To get started, see [Use DKIM to validate outbound email sent from your custom domain in Office 365](use-dkim-to-validate-outbound-email.md).</span></span> <span data-ttu-id="a3de7-208">다음으로 [DMARC를 사용하여 Office 365에서 전자 메일 유효성 검사](use-dmarc-to-validate-email.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3de7-208">Next, see [Use DMARC to validate email in Office 365](use-dmarc-to-validate-email.md).</span></span>
